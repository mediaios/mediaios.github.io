---
layout: post
title: 音频的采样率及蓝牙耳机播放
description: 介绍蓝牙耳机播放音频是和音频采样率的关系
category: 
tag:
---

## 采样率

采样率（也称为采样速度或者采样频率）定义了每秒从模拟信号中提取并组成数字信号的采样个数，它用赫兹（Hz）来表示。采样频率的倒数叫作采样周期或采样时间，它是采样之间的时间间隔。

采样频率只能用于周期性采样的采样器，对于非周期性采样的采样器没有规则限制。

### 采样定理

采样定理表明采样频率必须大于被采样信号带宽的两倍，另外一种等同的说法是奈奎斯特频率必须大于被采样信号的带宽。 如果信号的带宽是100Hz，那么为了避免混叠现象采样频率必须大于200Hz。换句话说就是采样频率必须至少是信号中最大频率分量频率的两倍，否则就不能从信号采样中恢复原始信号。

### 常识

正常人听觉的频率范围大约是20HZ~20kHZ之间，根据奈奎斯特理论(只有采样频率高于声音信号最高频率的两倍时，才能把数字信号表示的声音还原成为原来的声音）,为了保证声音不失真，采样频率应该在40KHz左右。常用的音频采样频率有8kHz、11.025kHz、22.05kHz、16kHz、37.8kHz、44.1kHz、48kHz等。

### 常用的采样率

在数字音频领域，常用的采样率有：

* 8,000 Hz  - 电话所用采样率，对于人的说话已经足够
* 11,025 Hz
* 22,050 Hz - 无线电广播所用采样率
* 32,000 Hz - miniDV数码视频camcorder、DAT（LP mode）所用采样率
* 44,100 Hz - 音频CD,也常用于MPEG-1音频（VCD, SVCD, MP3）所用采样率
* 47,250 Hz - Nippon Columbia（Denon）开发的世界上第一个商用PCM录音机所用采样率
* 48,000 Hz - miniDV、数字电视、DVD、DAT、电影和专业音频所用的数字声音所用采样率
* 50,000 Hz - 二十世纪七十年代后期出现的3M和Soundstream开发的第一款商用数字录音机所用采样率
* 50,400 Hz - 三菱X-80数字录音机所用所用采样率
* 96,000或者192,000 Hz - DVD-Audio、一些LPCM DVD音轨、Blu-ray Disc（藍光碟）音轨、和HD-DVD（高清晰度DVD）音轨所用所用采样率
* 2.8224 MHz - SACD、索尼和飞利浦联合开发的称为Direct Stream Digital的1位sigma-delta modulation过程所用采样率。

## 比特率

### 关于比特率

比特率是指每秒传送的比特(bit)数。单位为 bps(Bit Per Second)，比特率越高，传送的数据越大，音质越好。

### 采样率和比特率对音频的影响

可以这样讲，采样率和比特率就像是坐标轴上的横纵坐标,横坐标的采样率表示了每秒钟的采样次数,纵坐标的比特率表示了用数字量来量化模拟量的时候的精度。

采样率类似于动态影像的帧数，比如电影的采样率是24赫兹，PAL制式的采样率是25赫兹，NTSC制式的采样率是30赫兹。当我们把采样到的一个个静止画面再以采样率同样的速度回放时，看到的就是连续的画面。同样的道理，把以44.1kHZ采样率记录的CD以同样的速率播放时，就能听到连续的声音。显然，这个采样率越高，听到的声音和看到的图像就越连贯。当然，人的听觉和视觉器官能分辨的采样率是有限的，基本上高于44.1kHZ采样的声音，绝大部分人已经觉察不到其中的分别了。

而声音的位数就相当于画面的颜色数，表示每个取样的数据量，当然数据量越大，回放的声音越准确，不至于把开水壶的叫声和火车的鸣笛混淆。同样的道理，对于画面来说就是更清晰和准确，不至于把血和西红柿酱混淆。不过受人的器官的机能限制，16位的声音和24位的画面基本已经是普通人类的极限了，更高位数就只能靠仪器才能分辨出来了。比如电话就是3kHZ取样的7位声音，而CD是44.1kHZ取样的16位声音，所以CD就比电话更清楚。

当你理解了以上这两个概念，比特率就很容易理解了。以电话为例，每秒3000次取样，每个取样是7比特，那么电话的比特率是21000。而CD是每秒44100次取样，两个声道，每个取样是13位PCM编码，所以CD的比特率是44100*2*13=1146600，也就是说CD每秒的数据量大约是144KB，而一张CD的容量是74分等于4440秒，就是639360KB＝640MB。

### 根据采样率和比特率算音频大小

CD音质的文件：

44.1kHz * 16bit * 2通道 = 1411200 bit/s = 1411 kbps 
	
这就是CD音质音频文件，每秒有141万位信息，换算一下： 1411200bps/8/1024/1024 = 0.168MB

一首3分钟20秒的音乐算下来就是33.6MB，这大概是无损音乐的大小。下面是网易云音乐的无损音乐大概大小截图：

![](http://img0.zealer.com/e1/49/48/79e994d6426f49a32e438b4490.jpg?imageView2/2/w/746/h/0)



## 蓝牙耳机播放音频

### A2DP

蓝牙立体声音频传输规范`A2DP`(Advance Audio Distribution Profile)，规定了使用蓝牙异步传输信道方式，传输高质量音乐文件数据的协议堆栈软件和使用方法，基于该协议就能通过以蓝牙方式传输高质量的立体声音乐。分为1.1版和1.2版，只要连接双方支持A2DP协议都能以16 bits，44.1 kHz的质量传输声音信号。假如有一方没有支持A2DP的话，只能以8 bits，8 kHz的质量的免手持设备规范(Handsfree Profile)传输模式，声音质量会大打折扣。

市场上的普通蓝牙耳机和手机设备，都支持`A2DP`协议

### 蓝牙耳机播放音频的问题

蓝牙立体声耳机采用的是A2DP标准，远不能达到16bit/44.1kHZ的音乐标准。A2DP协议规定了传输的码率最高是在768kbps，而CD无损的码率是在1.411Mbps，所以很明显，要传输CD级别的音质，必须要压缩。目前的压缩算法中apt-x算是最好的了，但是只能达到576 kbit/s，所以先天不足。

所以，如果用蓝牙耳机播放音频解码器采样率高于8K的音频时，会发生异常。